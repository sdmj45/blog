<!DOCTYPE html>
<html class="has-navbar-fixed-top">
<head>
    <meta charset="utf-8">
<title>MA Jian&#39;s Blog</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.css">




<meta name="description" content="A developer's blog">



<meta name="keywords" content="development">








<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ovo|Source+Code+Pro">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bulma/0.6.2/css/bulma.min.css">


<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.8/css/lightgallery.min.css">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/justifiedGallery/3.6.5/css/justifiedGallery.min.css">


<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css">


<link rel="stylesheet" href="/blog/css/style.css">


<script defer src="//use.fontawesome.com/releases/v5.0.8/js/all.js"></script>



<meta name="generator" content="Hexo 6.3.0"></head>
<body>
    
<nav class="navbar is-transparent is-fixed-top navbar-main" role="navigation" aria-label="main navigation">
    <div class="container">
        <div class="navbar-brand">
            <a class="navbar-item navbar-logo" href="/blog/">
                
                <img src="/blog/images/logo.png" alt="" height="28">
                
            </a>
            <div class="navbar-burger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
        
        <div class="navbar-menu navbar-end">
            
            
            
        </div>
    </div>
</nav>

    <section class="section">
    <div class="container">
    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/blog/2020/08/20/GCP-Kubernetes-Manually/" itemprop="url">GCP-Kubernetes-Manually</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            
                <time datetime="2020-08-20T08:11:43.000Z" itemprop="datePublished">Aug 20 2020</time>
            
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/blog/categories/gcp/">gcp</a><span>></span><a class="article-category-link" href="/blog/categories/gcp/kubernetes/">kubernetes</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            a minute read (About 197 words)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <html><head></head><body><p>In this article, we will show you how to deploy a web application by kubernetes on gcp.</p>
<ol>
<li>run nginx on daemon<figure class="highlight scala hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p <span class="hljs-number">8080</span>:<span class="hljs-number">80</span> nginx:latest</span><br></pre></td></tr></tbody></table></figure></li>
<li>change index.html in nginx container<figure class="highlight scala hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker cp index.html <span class="hljs-number">607</span>de9f58775:/usr/share/nginx/html/</span><br></pre></td></tr></tbody></table></figure></li>
<li>create docker image from the new container version<figure class="highlight scala hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker commit <span class="hljs-number">607</span>de9f58775 daccfrance:version1</span><br></pre></td></tr></tbody></table></figure></li>
<li>create tag of docker image with project id<figure class="highlight scala hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker tag daccfrance:version1 eu.gcr.io/kube-test<span class="hljs-number">-286917</span>/daccfrance:version1</span><br></pre></td></tr></tbody></table></figure></li>
<li>push docker image to gcp container registry<figure class="highlight scala hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker push eu.gcr.io/kube-test<span class="hljs-number">-286917</span>/daccfrance:version1</span><br></pre></td></tr></tbody></table></figure></li>
<li>kill docker container<figure class="highlight scala hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker container kill #container_id</span><br></pre></td></tr></tbody></table></figure></li>
<li>set compute zone by default<figure class="highlight scala hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcloud config set compute/zone europe-west1-b</span><br></pre></td></tr></tbody></table></figure></li>
<li>create a kubernetes cluster<figure class="highlight scala hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcloud container clusters create gk-cluster --num-nodes=<span class="hljs-number">1</span></span><br></pre></td></tr></tbody></table></figure></li>
<li>get authentication credentials for the cluster<figure class="highlight scala hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcloud container clusters get-credentials gk-cluster</span><br></pre></td></tr></tbody></table></figure></li>
<li>create kubernetes deployment<figure class="highlight scala hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl create deployment web-server --image=eu.gcr.io/kube-test<span class="hljs-number">-286917</span>/daccfrance:version1</span><br></pre></td></tr></tbody></table></figure></li>
<li>create kubernetes service<figure class="highlight scala hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl expose deployment web-server --<span class="hljs-class"><span class="hljs-keyword">type</span> <span class="hljs-title">LoadBalancer</span> <span class="hljs-title">--port</span> 80 <span class="hljs-title">--target-port</span> 80</span></span><br></pre></td></tr></tbody></table></figure></li>
<li>get kubernetes pods<figure class="highlight scala hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl get pods</span><br></pre></td></tr></tbody></table></figure></li>
<li>get kubernetes service<figure class="highlight scala hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl get service web-server</span><br></pre></td></tr></tbody></table></figure></li>
</ol>
<div class="video-container"><iframe src="https://www.youtube.com/embed/pksbLIY8PFA" frameborder="0" loading="lazy" allowfullscreen=""></iframe></div></body></html>
    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/blog/2020/08/06/spark-skewness/" itemprop="url">spark skewness</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            
                <time datetime="2020-08-06T11:16:30.000Z" itemprop="datePublished">Aug 6 2020</time>
            
        </span>
        
        
        <span class="column is-narrow">
            
            
            a minute read (About 158 words)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <html><head></head><body><p>Here we have an example of key salting to resolve the problem of skewness in spark.</p>
<figure class="highlight scala hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">import</span> org.apache.spark.<span class="hljs-type">SparkConf</span></span><br><span class="line"><span class="hljs-keyword">import</span> org.apache.spark.sql.{<span class="hljs-type">DataFrame</span>, <span class="hljs-type">SparkSession</span>}</span><br><span class="line"><span class="hljs-keyword">import</span> org.apache.spark.sql.functions._</span><br><span class="line"></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">object</span> <span class="hljs-title">SparkSkewnessExample</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">App</span> </span>{</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">val</span> conf = <span class="hljs-keyword">new</span> <span class="hljs-type">SparkConf</span>()</span><br><span class="line">    .setMaster(<span class="hljs-string">"local[*]"</span>)</span><br><span class="line">    .setAppName(<span class="hljs-string">"SparkSkewnessExample"</span>)</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">val</span> spark = <span class="hljs-type">SparkSession</span></span><br><span class="line">    .builder()</span><br><span class="line">    .config(conf)</span><br><span class="line">    .getOrCreate()</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">import</span> spark.implicits._</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">// DataFrame 1</span></span><br><span class="line">  <span class="hljs-keyword">val</span> df1 = <span class="hljs-type">Seq</span>(</span><br><span class="line">    (<span class="hljs-string">"a"</span>, <span class="hljs-string">"12"</span>),</span><br><span class="line">    (<span class="hljs-string">"a"</span>, <span class="hljs-string">"31"</span>),</span><br><span class="line">    (<span class="hljs-string">"a"</span>, <span class="hljs-string">"24"</span>),</span><br><span class="line">    (<span class="hljs-string">"a"</span>, <span class="hljs-string">"0"</span>),</span><br><span class="line">    (<span class="hljs-string">"a"</span>, <span class="hljs-string">"24"</span>),</span><br><span class="line">    (<span class="hljs-string">"b"</span>, <span class="hljs-string">"45"</span>),</span><br><span class="line">    (<span class="hljs-string">"c"</span>, <span class="hljs-string">"24"</span>)</span><br><span class="line">  ).toDF(<span class="hljs-string">"id"</span>, <span class="hljs-string">"value"</span>)</span><br><span class="line">  df1.show(<span class="hljs-number">10</span>,<span class="hljs-literal">false</span>)</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">//DataFrame2</span></span><br><span class="line">  <span class="hljs-keyword">val</span> df2 = <span class="hljs-type">Seq</span>(</span><br><span class="line">    (<span class="hljs-string">"a"</span>, <span class="hljs-string">"45"</span>),</span><br><span class="line">    (<span class="hljs-string">"b"</span>, <span class="hljs-string">"575"</span>),</span><br><span class="line">    (<span class="hljs-string">"c"</span>, <span class="hljs-string">"54"</span>)</span><br><span class="line">  ).toDF(<span class="hljs-string">"id"</span>, <span class="hljs-string">"value"</span>)</span><br><span class="line">  df2.show(<span class="hljs-number">10</span>,<span class="hljs-literal">false</span>)</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">// eliminate skewness</span></span><br><span class="line">  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">eliminateSkewness</span></span>(leftDf: <span class="hljs-type">DataFrame</span>, leftCol: <span class="hljs-type">String</span>, rightDf: <span class="hljs-type">DataFrame</span>) = {</span><br><span class="line">    <span class="hljs-keyword">val</span> df1 = leftDf</span><br><span class="line">      .withColumn(leftCol, concat(</span><br><span class="line">        leftDf.col(leftCol), lit(<span class="hljs-string">"_"</span>), lit(floor(rand(<span class="hljs-number">123456</span>) * <span class="hljs-number">10</span>))))</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">val</span> df2 = rightDf</span><br><span class="line">      .withColumn(<span class="hljs-string">"saltCol"</span>,</span><br><span class="line">        explode(</span><br><span class="line">          array((<span class="hljs-number">0</span> to <span class="hljs-number">10</span>).map(lit(_)): _ *)</span><br><span class="line">        ))</span><br><span class="line"></span><br><span class="line">    (df1, df2)</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">val</span> (df3, df4) = eliminateSkewness(df1, <span class="hljs-string">"id"</span>, df2)</span><br><span class="line"></span><br><span class="line">  df3.show(<span class="hljs-number">100</span>, <span class="hljs-literal">false</span>)</span><br><span class="line">  df4.show(<span class="hljs-number">100</span>, <span class="hljs-literal">false</span>)</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">//join after eliminating data skewness</span></span><br><span class="line">    df3.join(</span><br><span class="line">      df4,</span><br><span class="line">      df3.col(<span class="hljs-string">"id"</span>) &lt;=&gt; concat(df4.col(<span class="hljs-string">"id"</span>), lit(<span class="hljs-string">"_"</span>), df4.col(<span class="hljs-string">"saltCol"</span>))</span><br><span class="line">    ).drop(<span class="hljs-string">"saltCol"</span>)</span><br><span class="line">      .show(<span class="hljs-number">100</span>,<span class="hljs-literal">false</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></body></html>
    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/blog/2020/06/16/b10-Machine-Learning/" itemprop="url">b10-Machine Learning</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            
                <time datetime="2020-06-16T09:09:03.000Z" itemprop="datePublished">Jun 16 2020</time>
            
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/blog/categories/gcp/">gcp</a><span>></span><a class="article-category-link" href="/blog/categories/gcp/b-data-engineer/">b-data-engineer</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            2 minutes read (About 243 words)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <html><head></head><body><h2 id="What-is-Machine-Learning"><a href="#What-is-Machine-Learning" class="headerlink" title="What is Machine Learning ?"></a>What is Machine Learning ?</h2><p>Process of combining inputs to produce useful predictions</p>
<h2 id="How-it-works"><a href="#How-it-works" class="headerlink" title="How it works"></a>How it works</h2><ul>
<li>Train a model with examples(example = input + label)</li>
<li>Training = adjust model to learn relationship between features and labels</li>
<li>Feature = input variables</li>
<li>Inference = apply trained model to unlabeled examples</li>
</ul>
<h2 id="Learning-types"><a href="#Learning-types" class="headerlink" title="Learning types"></a>Learning types</h2><ul>
<li>Supervised learning<ul>
<li>Regression - Continuous, numeric variables</li>
<li>Classification - categorical variables: yes/no</li>
</ul>
</li>
<li>Unsupervised Learning<ul>
<li>Clustering - finding pattern</li>
<li>No labeled or categorized</li>
</ul>
</li>
<li>Reinforcement learning<ul>
<li>Use positive/negative reinforcement to complete a task<ul>
<li>Complete a maze, learn chess</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="Neural-network"><a href="#Neural-network" class="headerlink" title="Neural network"></a>Neural network</h2><ul>
<li>Neural network - model composed of layers, consisting of neurons</li>
<li>Neuron - node, combines input values and create one output value</li>
<li>Feature - input variables used to make predictions</li>
<li>Hidden layer - set of neurons operating from same input set </li>
<li>Feature engineering - deciding which features to use in a model</li>
<li>Epoch - single pass through training dataset </li>
<li>Deep and Wide in neural network<ul>
<li>Wide - memorization: many features</li>
<li>Deep - generalization: many hidden layers</li>
<li>Deep and Wide - both: good for recommendation engines</li>
</ul>
</li>
</ul>
<h2 id="What-is-Overfitting"><a href="#What-is-Overfitting" class="headerlink" title="What is Overfitting?"></a>What is Overfitting?</h2><p>training model ‘overfitted’ to training data - unable to generalize with new data</p>
<h2 id="Cause-of-Overfitting"><a href="#Cause-of-Overfitting" class="headerlink" title="Cause of Overfitting"></a>Cause of Overfitting</h2><ul>
<li>Not enough training data</li>
<li>Too many features</li>
<li>Model fitted to unnecessary features unique to training data: “noise”</li>
</ul>
<h2 id="Solving-of-Overfitting"><a href="#Solving-of-Overfitting" class="headerlink" title="Solving of Overfitting"></a>Solving of Overfitting</h2><ul>
<li>more data</li>
<li>make model less complex</li>
<li>remove “noise”<ul>
<li>increase “regularization” parameters</li>
</ul>
</li>
</ul>
<h2 id="AI-platform"><a href="#AI-platform" class="headerlink" title="AI platform"></a>AI platform</h2><ul>
<li>Fully managed Tensorflow platform</li>
<li>Distributed training and predictions</li>
<li>Hyperparameter tuning with Hypertune</li>
</ul>
<h2 id="How-AI-Platform-works"><a href="#How-AI-Platform-works" class="headerlink" title="How AI Platform works"></a>How AI Platform works</h2><ul>
<li>Master - manages other nodes</li>
<li>Workers - works on portion of training job</li>
<li>Parameter servers - coordinate shared model state between workers</li>
</ul>
</body></html>
    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/blog/2020/06/12/b09-BigQuery/" itemprop="url">b09-BigQuery</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            
                <time datetime="2020-06-12T06:31:40.000Z" itemprop="datePublished">Jun 12 2020</time>
            
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/blog/categories/gcp/">gcp</a><span>></span><a class="article-category-link" href="/blog/categories/gcp/b-data-engineer/">b-data-engineer</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            a few seconds read (About 67 words)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <html><head></head><body><h2 id="What-is-BigQuery"><a href="#What-is-BigQuery" class="headerlink" title="What is BigQuery ?"></a>What is BigQuery ?</h2><ul>
<li>Fully Managed Data warehousing<ul>
<li>Near real time analysis of petabyte scale databases</li>
</ul>
</li>
<li>Serverless(no ops)</li>
<li>Auto scaling</li>
<li>Both storage and analysis</li>
<li>Interact with SQL</li>
</ul>
<h2 id="How-BigQuery-works"><a href="#How-BigQuery-works" class="headerlink" title="How BigQuery works"></a>How BigQuery works</h2><ul>
<li>Columnar data store</li>
<li>It does not update exciting records</li>
<li>No transactional</li>
</ul>
<h2 id="Structure"><a href="#Structure" class="headerlink" title="Structure"></a>Structure</h2><ul>
<li>Dataset: contains tables/views</li>
<li>Table: collections of columns</li>
<li>Job: long running action/query</li>
</ul>
<h2 id="IAM"><a href="#IAM" class="headerlink" title="IAM"></a>IAM</h2><ul>
<li>can control by project, dataset, view</li>
<li>cannot control at table level</li>
</ul>
</body></html>
    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/blog/2020/06/05/b08-Cloud-Dataproc/" itemprop="url">b08-Cloud Dataproc</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            
                <time datetime="2020-06-05T11:16:59.000Z" itemprop="datePublished">Jun 5 2020</time>
            
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/blog/categories/gcp/">gcp</a><span>></span><a class="article-category-link" href="/blog/categories/gcp/b-data-engineer/">b-data-engineer</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            a few seconds read (About 92 words)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <html><head></head><body><h2 id="Dataproc"><a href="#Dataproc" class="headerlink" title="Dataproc"></a>Dataproc</h2><ul>
<li>Hadoop, Spark, Hive, Pig</li>
<li>Lift and shift to GCP</li>
</ul>
<h2 id="Map-Reduce"><a href="#Map-Reduce" class="headerlink" title="Map Reduce"></a>Map Reduce</h2><img src="/blog/2020/06/05/b08-Cloud-Dataproc/map_reduce.png" class="" title="map_reduce">

<h2 id="Converting-from-HDFS-to-Google-Cloud-Storage"><a href="#Converting-from-HDFS-to-Google-Cloud-Storage" class="headerlink" title="Converting from HDFS to Google Cloud Storage"></a>Converting from HDFS to Google Cloud Storage</h2><ul>
<li>Copy data to GCS<ul>
<li>Install connector or copy manually</li>
</ul>
</li>
<li>Update file prefix in scripts<ul>
<li>From hdfs:// to gs://</li>
</ul>
</li>
<li>Use Dataproc and run against/output to GCS</li>
</ul>
<h2 id="Dataproc-performance-optimization"><a href="#Dataproc-performance-optimization" class="headerlink" title="Dataproc performance optimization"></a>Dataproc performance optimization</h2><ul>
<li>Keep your data close to your cluster<ul>
<li>Place Dataproc cluster in same region as storage bucket</li>
</ul>
</li>
<li>Larger persistent disk = better performance<ul>
<li>Using SSD over HDD</li>
</ul>
</li>
<li>Allocate more VMs<ul>
<li>Use preemptible VM to save on costs<div class="video-container"><iframe src="https://www.youtube.com/embed/lyNiOFsTW18" frameborder="0" loading="lazy" allowfullscreen=""></iframe></div></li>
</ul>
</li>
</ul>
</body></html>
    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/blog/2020/05/23/b07-Cloud-Dataflow/" itemprop="url">b07-Cloud Dataflow</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            
                <time datetime="2020-05-23T15:43:39.000Z" itemprop="datePublished">May 23 2020</time>
            
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/blog/categories/gcp/">gcp</a><span>></span><a class="article-category-link" href="/blog/categories/gcp/b-data-engineer/">b-data-engineer</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            a few seconds read (About 91 words)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <html><head></head><body><h2 id="Data-Processing"><a href="#Data-Processing" class="headerlink" title="Data Processing"></a>Data Processing</h2><img src="/blog/2020/05/23/b07-Cloud-Dataflow/data_processing_challenge.png" class="" title="data_processing_challenge">

<p>Solution:<br>Apache Beam + Cloud Dataflow</p>
<h2 id="Cloud-Dataflow"><a href="#Cloud-Dataflow" class="headerlink" title="Cloud Dataflow"></a>Cloud Dataflow</h2><ul>
<li>Auto scaling, No-Ops, Stream and Batch Processing</li>
<li>Built on Apache Beam</li>
<li>Pipelines are regional-based</li>
</ul>
<p>Data Transformation</p>
<img src="/blog/2020/05/23/b07-Cloud-Dataflow/data_transformation.png" class="" title="data_transformation">

<h2 id="Cloud-Dataproc-vs-Cloud-Dataflow"><a href="#Cloud-Dataproc-vs-Cloud-Dataflow" class="headerlink" title="Cloud Dataproc vs Cloud Dataflow"></a>Cloud Dataproc vs Cloud Dataflow</h2><img src="/blog/2020/05/23/b07-Cloud-Dataflow/dataproc_vs_dataflow.png" class="" title="dataproc_vs_dataflow">

<h2 id="Key-Terms"><a href="#Key-Terms" class="headerlink" title="Key Terms"></a>Key Terms</h2><ul>
<li>Element : single entry of data (eg. table row)</li>
<li>PCollection: Distributed data set, input and output</li>
<li>Transform: Data processing in pipeline</li>
<li>ParDo: Type of Transform <img src="/blog/2020/05/23/b07-Cloud-Dataflow/pipeline.png" class="" title="pipeline">
<div class="video-container"><iframe src="https://www.youtube.com/embed/XLXe1LHrkho" frameborder="0" loading="lazy" allowfullscreen=""></iframe></div></li>
</ul>
</body></html>
    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/blog/2020/05/23/b06-Cloud-PubSub/" itemprop="url">b06-Cloud-PubSub</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            
                <time datetime="2020-05-23T14:01:29.000Z" itemprop="datePublished">May 23 2020</time>
            
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/blog/categories/gcp/">gcp</a><span>></span><a class="article-category-link" href="/blog/categories/gcp/b-data-engineer/">b-data-engineer</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            2 minutes read (About 355 words)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <html><head></head><body><h2 id="Cloud-Pub-x2F-Sub"><a href="#Cloud-Pub-x2F-Sub" class="headerlink" title="Cloud Pub/Sub"></a>Cloud Pub/Sub</h2><ul>
<li>Global scale messaging buffer/coupler</li>
<li>No-ops</li>
<li>Decouples senders and receivers</li>
<li>Equivalent to Kafka</li>
<li>At-least-once delivery</li>
</ul>
<h2 id="Pub-x2F-Sub-Core-Concepts"><a href="#Pub-x2F-Sub-Core-Concepts" class="headerlink" title="Pub/Sub Core Concepts"></a>Pub/Sub Core Concepts</h2><ul>
<li>Topic: A named resource to which messages are sent by publishers</li>
<li>Subscription: A named resource representing the stream of messages from a single, specific topic, to be delivered to the subscribing application.</li>
<li>Message: The combination of data and (optional) attributes that a publisher sends to a topic and is eventually delivered to subscribers.</li>
<li>Message attribute: A key-value pair that a publisher can define</li>
</ul>
<h2 id="Pub-x2F-Sub-Message-flow"><a href="#Pub-x2F-Sub-Message-flow" class="headerlink" title="Pub/Sub Message flow"></a>Pub/Sub Message flow</h2><img src="/blog/2020/05/23/b06-Cloud-PubSub/pubsub_overview.png" class="" title="pubsub_overview">
<ol>
<li>Publisher sends messages to the topic</li>
<li>Messages are stored in message store until they are delivered and acknowledged by subscribers</li>
<li>Pub/Sub forwards messages from a topic to subscribers. messages can be pushed by Pub/Sub to subscriber or pulled by subscribers from Pub/Sub</li>
<li>Subscriber receives pending messages from subscription and acknowledge to Pub/Sub</li>
<li>After message is acknowledged by the subscriber, it is removed from the subscription’s queue of messages.</li>
</ol>
<h2 id="Basic-flow-of-messages-Message-flow"><a href="#Basic-flow-of-messages-Message-flow" class="headerlink" title="Basic flow of messages Message flow"></a>Basic flow of messages Message flow</h2><img src="/blog/2020/05/23/b06-Cloud-PubSub/pubsub_basic_flow_of_messages.png" class="" title="basic_flow_of_messages">
<p>Messages A, B are sent to the topic.<br>There are 2 subscriptions, Subscriber1 and Subscriber2 are subscribed to Subscription1 and each one got one message.<br>Subscriber3 is subscribed to Subscription2, and it got both message A and B</p>
<h2 id="Publishing"><a href="#Publishing" class="headerlink" title="Publishing"></a>Publishing</h2><ul>
<li><p>Message format</p>
<ul>
<li>Message data</li>
<li>Ordering Key</li>
<li>Attributes</li>
</ul>
</li>
<li><p>Using Schema</p>
<ul>
<li>Avro</li>
<li>Protocol Buffer</li>
</ul>
</li>
</ul>
<h2 id="Receiving"><a href="#Receiving" class="headerlink" title="Receiving"></a>Receiving</h2><h3 id="Subscriber"><a href="#Subscriber" class="headerlink" title="Subscriber"></a>Subscriber</h3><ul>
<li><p>At Least Once delivery</p>
</li>
<li><p>Retention duration<br>Messages stored in PubSub<br>10 minutes -&gt; 7 days</p>
</li>
<li><p>Ack Deadline<br>Messages to be deleted if not be consumed<br>10 seconds (by default)</p>
</li>
<li><p>Expiration period<br>Subscription to be deleted if no messages arrive<br>31 days be (by default)</p>
</li>
</ul>
<h3 id="Delivery-mode"><a href="#Delivery-mode" class="headerlink" title="Delivery mode"></a>Delivery mode</h3><ul>
<li><strong>Push</strong> = lower latency, more real-time<ul>
<li>Push subscribers must be Webhook endpoints that accept POST over HTTPS</li>
</ul>
</li>
<li><strong>Pull</strong> ideal for large volume of messages - batch delivery</li>
</ul>
<h2 id="Replaying"><a href="#Replaying" class="headerlink" title="Replaying"></a>Replaying</h2><h3 id="Seeking-to-a-timestamp"><a href="#Seeking-to-a-timestamp" class="headerlink" title="Seeking to a timestamp"></a>Seeking to a timestamp</h3><ul>
<li>retain_acked_messages set to True</li>
<li>messagesRetentionDuration<br>7 days by default</li>
</ul>
<h3 id="Seeking-to-a-snapshot"><a href="#Seeking-to-a-snapshot" class="headerlink" title="Seeking to a snapshot"></a>Seeking to a snapshot</h3><p>  define e snapshot, messages to replay are those who have not been consumed when creating of the<br>snapshot and the new ones.</p>
<div class="video-container"><iframe src="https://www.youtube.com/embed/1Ip6of_VBvg" frameborder="0" loading="lazy" allowfullscreen=""></iframe></div>



</body></html>
    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/blog/2020/05/20/b05-Cloud-Spanner/" itemprop="url">b05-Cloud-Spanner</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            
                <time datetime="2020-05-20T14:50:32.000Z" itemprop="datePublished">May 20 2020</time>
            
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/blog/categories/gcp/">gcp</a><span>></span><a class="article-category-link" href="/blog/categories/gcp/b-data-engineer/">b-data-engineer</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            a few seconds read (About 109 words)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <html><head></head><body><h2 id="Cloud-Spanner"><a href="#Cloud-Spanner" class="headerlink" title="Cloud Spanner"></a>Cloud Spanner</h2><ul>
<li>Fully managed, highly scalable/available, relational database</li>
<li>Similar architecture to Bigtable</li>
</ul>
<h2 id="What-is-it-used-for"><a href="#What-is-it-used-for" class="headerlink" title="What is it used for?"></a>What is it used for?</h2><ul>
<li>A relational database that need strong transactional consistency(ACID)</li>
<li>Wide scale</li>
<li>Higher workload than Cloud SQL</li>
<li>Standard SQL format</li>
</ul>
<h2 id="Spanner-vs-CLoud-SQL"><a href="#Spanner-vs-CLoud-SQL" class="headerlink" title="Spanner vs CLoud SQL"></a>Spanner vs CLoud SQL</h2><ul>
<li>Cloud SQL = MySQL</li>
<li>Spanner is not “dropped in” replacement for MySQL<ul>
<li>Not MySQL/PostgreSQL compatible</li>
<li>Work need to migrate<img src="/blog/2020/05/20/b05-Cloud-Spanner/spanner_vs_relational_vs_nosql.png" class="" title="spanner_vs_relational_vs_nosql"></li>
</ul>
</li>
</ul>
<h2 id="Spanner-architecture"><a href="#Spanner-architecture" class="headerlink" title="Spanner architecture"></a>Spanner architecture</h2><img src="/blog/2020/05/20/b05-Cloud-Spanner/spanner_architecture.png" class="" title="spanner_architecture">

<ul>
<li>Nodes handle computation, each node serves up to 2 TB of storage</li>
<li>Storage is replicated across zones, compute and storage are separated</li>
<li>Replication is automatic</li>
</ul>
<div class="video-container"><iframe src="https://www.youtube.com/embed/BQX0NvWTcnw" frameborder="0" loading="lazy" allowfullscreen=""></iframe></div></body></html>
    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/blog/2020/05/19/b04-Bigtable/" itemprop="url">b04-Bigtable</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            
                <time datetime="2020-05-19T11:57:07.000Z" itemprop="datePublished">May 19 2020</time>
            
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/blog/categories/gcp/">gcp</a><span>></span><a class="article-category-link" href="/blog/categories/gcp/b-data-engineer/">b-data-engineer</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            2 minutes read (About 225 words)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <html><head></head><body><h2 id="Cloud-Bigtable"><a href="#Cloud-Bigtable" class="headerlink" title="Cloud Bigtable"></a>Cloud Bigtable</h2><ul>
<li>High performance, massively scalable NoSQL </li>
<li>Ideal for large analytical workloads</li>
</ul>
<h3 id="Bigtable-infrastructure"><a href="#Bigtable-infrastructure" class="headerlink" title="Bigtable infrastructure"></a>Bigtable infrastructure</h3><img src="/blog/2020/05/19/b04-Bigtable/bigtable_infrastructure.png" class="" title="bigtable_infrastructure">

<ul>
<li>Front-end server pool serves requests to nodes</li>
<li>Compute and Storage are separate, No data is stored on the node except for metadata to direct requests to the correct tablet</li>
<li>tables are shards into tablets. They are stored on Colossus, google’s filesystem. as storage is separate from compute node,<br>replication and recovery of node data is very fast, as only metadata/pointers need to be updated</li>
</ul>
<h3 id="instances"><a href="#instances" class="headerlink" title="instances"></a>instances</h3><p>Entire bigtable project called ‘instance’</p>
<h3 id="cluster"><a href="#cluster" class="headerlink" title="cluster"></a>cluster</h3><p>Nodes grouped into clusters</p>
<ul>
<li>1 or more cluster per instance</li>
</ul>
<h3 id="instance-type"><a href="#instance-type" class="headerlink" title="instance type"></a>instance type</h3><ul>
<li>Development - low cost, single node, on replication</li>
<li>Production - 3+ nodes per cluster, replications available</li>
</ul>
<h3 id="Schema-Design"><a href="#Schema-Design" class="headerlink" title="Schema Design"></a>Schema Design</h3><ul>
<li>Per table - Row key is only indexed item</li>
</ul>
<h2 id="Hands-on"><a href="#Hands-on" class="headerlink" title="Hands on"></a>Hands on</h2><h3 id="install-cbt-in-Google-Cloud-SDK"><a href="#install-cbt-in-Google-Cloud-SDK" class="headerlink" title="install cbt in  Google Cloud SDK"></a>install cbt in  <strong>Google Cloud SDK</strong></h3><figure class="highlight plaintext hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gcloud components update</span><br><span class="line">glcoud components install cbt</span><br></pre></td></tr></tbody></table></figure>
<h3 id="set-env-variable"><a href="#set-env-variable" class="headerlink" title="set env variable"></a>set env variable</h3><figure class="highlight plaintext hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo -e "project=[PROJECT_ID]\ninstance=[INSTANCE_ID]"&gt;~/.cbtrc</span><br></pre></td></tr></tbody></table></figure>
<h3 id="create-table"><a href="#create-table" class="headerlink" title="create table"></a>create table</h3><figure class="highlight plaintext hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cbt createtable my-table</span><br></pre></td></tr></tbody></table></figure>
<h3 id="list-table"><a href="#list-table" class="headerlink" title="list table"></a>list table</h3><figure class="highlight plaintext hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cbt ls</span><br></pre></td></tr></tbody></table></figure>
<h3 id="add-column-family"><a href="#add-column-family" class="headerlink" title="add column family"></a>add column family</h3><figure class="highlight plaintext hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cbt createfamily my-table cf1</span><br></pre></td></tr></tbody></table></figure>
<h3 id="list-column-family"><a href="#list-column-family" class="headerlink" title="list column family"></a>list column family</h3><figure class="highlight plaintext hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cbt ls my-table</span><br></pre></td></tr></tbody></table></figure>
<h3 id="add-value-to-row1-column-family-cf1-column-qualifier-c1"><a href="#add-value-to-row1-column-family-cf1-column-qualifier-c1" class="headerlink" title="add value to row1, column family cf1, column qualifier c1"></a>add value to row1, column family cf1, column qualifier c1</h3><figure class="highlight plaintext hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cbt set my-table r1 cf1:c1=testvalue</span><br></pre></td></tr></tbody></table></figure>
<h3 id="read-table"><a href="#read-table" class="headerlink" title="read table"></a>read table</h3><figure class="highlight plaintext hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cbt read my-table</span><br></pre></td></tr></tbody></table></figure>
<h3 id="delete-table"><a href="#delete-table" class="headerlink" title="delete table"></a>delete table</h3><figure class="highlight plaintext hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cbt deletetable my-table</span><br></pre></td></tr></tbody></table></figure>
<div class="video-container"><iframe src="https://www.youtube.com/embed/WI1qVV9sM3s" frameborder="0" loading="lazy" allowfullscreen=""></iframe></div></body></html>
    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/blog/2020/05/16/b03-Cloud-Datastore/" itemprop="url">b03-Cloud-Datastore</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            
                <time datetime="2020-05-16T08:08:57.000Z" itemprop="datePublished">May 16 2020</time>
            
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/blog/categories/gcp/">gcp</a><span>></span><a class="article-category-link" href="/blog/categories/gcp/b-data-engineer/">b-data-engineer</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            a minute read (About 207 words)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <html><head></head><body><h2 id="What-is-a-Cloud-Datastore"><a href="#What-is-a-Cloud-Datastore" class="headerlink" title="What is a Cloud Datastore"></a>What is a Cloud Datastore</h2><ul>
<li>NoSQL</li>
</ul>
<ul>
<li>Flexible structure/relationship</li>
</ul>
<ul>
<li>No Ops</li>
</ul>
<ul>
<li>No provisioning of instances</li>
<li>Compute layer is abstracted away</li>
</ul>
<ul>
<li>Scalable</li>
</ul>
<ul>
<li>Multi-regions access</li>
<li>Sharding/replication automatic</li>
</ul>
<ul>
<li>We can have only 1 Datastore per project</li>
</ul>
<h2 id="When-to-use-Datastore"><a href="#When-to-use-Datastore" class="headerlink" title="When to use Datastore"></a>When to use Datastore</h2><ul>
<li>Applications need scale</li>
<li>Product catalog - real time inventory</li>
<li>User profiles - mobile apps</li>
<li>Game save states</li>
<li>ACID transactions, eg, transferring funds</li>
</ul>
<h2 id="When-not-use-Datastore"><a href="#When-not-use-Datastore" class="headerlink" title="When not use Datastore"></a>When not use Datastore</h2><ul>
<li>Analytics(full SQL semantics)<ul>
<li>Use Big Query/Cloud Spanner</li>
</ul>
</li>
<li>Extreme scale(10M+ read/writes per second)<ul>
<li>Use Bigtable</li>
</ul>
</li>
<li>Don’t need ACID<ul>
<li>Bigtable</li>
</ul>
</li>
<li>Lift and shift(existing MYSQL)<ul>
<li>Cloud SQL</li>
</ul>
</li>
<li>Near zero latency(&lt; 10ms)<ul>
<li>Use in-memory database (Redis)</li>
</ul>
</li>
</ul>
<h2 id="Relational-Database-vs-Datastore"><a href="#Relational-Database-vs-Datastore" class="headerlink" title="Relational Database vs Datastore"></a>Relational Database vs Datastore</h2><p>Entities can be hierarchical</p>
<img src="/blog/2020/05/16/b03-Cloud-Datastore/rdbms_vs_datastore.png" class="" title="rdbms_vs_datastore">

<h2 id="Queries-and-Indexing"><a href="#Queries-and-Indexing" class="headerlink" title="Queries and Indexing"></a>Queries and Indexing</h2><h3 id="Query"><a href="#Query" class="headerlink" title="Query"></a>Query</h3><ul>
<li>retrieve entity from datastore</li>
<li>query methods<ul>
<li>programmatic</li>
<li>web console</li>
<li>GQL( google query language)</li>
</ul>
</li>
</ul>
<h3 id="Indexing"><a href="#Indexing" class="headerlink" title="Indexing"></a>Indexing</h3><ul>
<li>queries get results from indexes</li>
<li>index type<ul>
<li>Built-in: Allows single property queries</li>
<li>Composite: use index.yaml</li>
</ul>
</li>
</ul>
<h3 id="Danger-Exploding-Indexes"><a href="#Danger-Exploding-Indexes" class="headerlink" title="Danger - Exploding Indexes !"></a>Danger - Exploding Indexes !</h3><ul>
<li>solutions:</li>
</ul>
<ul>
<li>use index.yaml to narrow index scope</li>
<li>do not index properties that don’t need indexing</li>
</ul>
<h2 id="Data-Consistency"><a href="#Data-Consistency" class="headerlink" title="Data Consistency"></a>Data Consistency</h2><p>Performance vs Accuracy</p>
<ul>
<li>Strongly Consistent<ul>
<li>Parallel processes with orders guaranteed</li>
<li>Use case: financial transaction</li>
</ul>
</li>
<li>Eventually Consistent<ul>
<li>Parallel processes not with orders guaranteed </li>
<li>Use case: Census population, order not important<div class="video-container"><iframe src="https://www.youtube.com/embed/EZVu3AIxKFg" frameborder="0" loading="lazy" allowfullscreen=""></iframe></div></li>
</ul>
</li>
</ul>
</body></html>
    
    </div>
    
    
</article>




    
    
        
<nav class="pagination is-centered is-rounded" role="navigation" aria-label="pagination">
    <div class="pagination-previous">
        <a href="/blog/page/3/">Prev</a>
    </div>
    <div class="pagination-next">
        <a href="/blog/page/5/">Next</a>
    </div>
    <ul class="pagination-list is-hidden-mobile">
        
        <li><a class="pagination-link" href="/blog/">1</a></li>
        
        <li><a class="pagination-link" href="/blog/page/2/">2</a></li>
        
        <li><a class="pagination-link" href="/blog/page/3/">3</a></li>
        
        <li><a class="pagination-link is-current" href="/blog/page/4/">4</a></li>
        
        <li><a class="pagination-link" href="/blog/page/5/">5</a></li>
        
        <li><a class="pagination-link" href="/blog/page/6/">6</a></li>
        
    </ul>
</nav>
    
    </div>
</section>
    <footer class="footer">
    <div class="container">
        <div class="columns content">
            <div class="column is-narrow has-text-centered">
                &copy; 2023 MA Jian&nbsp;
                Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> & <a
                        target="_blank" rel="noopener" href="http://github.com/ppoffice/hexo-theme-minos">Minos</a>
            </div>
            <div class="column is-hidden-mobile"></div>

            
            
        </div>
    </div>
</footer>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script>

<!-- test if the browser is outdated -->
<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" target="_blank" rel="noopener" href="http://outdatedbrowser.com/">Update my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.js"></script>
<script>
    $(document).ready(function () {
        // plugin function, place inside DOM ready function
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        })
    });
</script>

<script>
    window.FontAwesomeConfig = {
        searchPseudoElements: true
    }
    moment.locale("en-AU");
</script>




<script src="/blog/js/script.js"></script>


    
</body>
</html>